<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script>const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))</script>
<script src="https://cdn.jsdelivr.net/gh/FogNetwork/ABC/index.js"></script>
<script>
  var favicon = localStorage.getItem("favicon");
  var tabname = localStorage.getItem("tabname");
  if (tabname == null) {
    localStorage.setItem('tabname', 'Rusk Games')
    tabname = "Rusk Games"

  }
  if (favicon == null) {
    localStorage.setItem('favicon', 'https://rusk-games.pages.dev/favicon.ico')
    favicon = 'https://rusk-games.pages.dev/favicon.ico'
  }
  document.title = tabname
  var link = document.querySelector("link[rel~='icon']");
  if (!link) {
    link = document.createElement('link');
    link.rel = 'icon';
    document.head.appendChild(link);
  }
  link.href = favicon;



  function clearls() {
    ;
    localStorage.setItem('tabname', 'Rusk Games')
    localStorage.setItem('favicon', 'https://rusk-games.pages.dev/images/favicon.ico');
    document.title = "Rusk Games"
    var link = document.querySelector("link[rel~='icon']");
    if (!link) {
      link = document.createElement('link');
      link.rel = 'icon';
      document.head.appendChild(link);
    }
    link.href = 'https://rusk-games.pages.dev/images/favicon.ico';
  }

  function cloak() {
    event.preventDefault()

    var win = new ABC({
      "type": "blank", //Blank, blob, or overwrite
      "url": window.location.pathname //Any url
    })

    win.open()



    location.replace("https://google.com")
  }
  function ensureHttps(url) {
    if (!/^https?:\/\//i.test(url)) {
      url = 'https://' + url;
    }
    return url;
  }
  function validURL(string) {

    var res = string.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g);
    return (res !== null)
  }
  function tabCloak() {
    document.title = $('#tab-name').val()
    if (validURL($('#tab-icon').val())) {
      var link = document.querySelector("link[rel~='icon']");
      if (!link) {
        link = document.createElement('link');
        link.rel = 'icon';
        document.head.appendChild(link);
      }
      link.href = ensureHttps($('#tab-icon').val() + '/favicon.ico');
      localStorage.setItem('favicon', ensureHttps($('#tab-icon').val() + '/favicon.ico'))
      localStorage.setItem('tabname', $('#tab-name').val())

    }
    else {
      alert('Invalid URL')
    }
  }


</script>
<style>
  .child {
    display: inline;
    /* border: 1px solid red; */
    vertical-align: middle;
  }

  .cloakbtn:hover {
    background-color: rgb(220, 120, 0);
  }
</style>
<div style="background-color: rgb(255, 158, 23); text-align: center; line-height: 50px">
  <h4 class="child" style="font-size: 18px; color:black; padding: 12px">We are currently in the proccess of adding games from <a href="https://sites.google.com/site/classroom6x/">Classroom 6x</a>!</h4>
  <!-- <a class="child btn cloakbtn" href="../directory.html"
    style="color: black;padding: 5px; outline: 1px solid black; border-radius: 4px; height: 15px; font-size: 18px"></a> -->
</div>

<nav class="navbar navbar-expand-lg navbar-dark top-nav" id="mainNav" style="">
  <div class="" style="width: 100%; display: inline-flex; margin: 0px 30px;">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav-menu"
      aria-controls="nav-menu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a target="_top" class="navbar-brand js-scroll-trigger" href="/" style="padding-left: 50px; padding-right: 50px;">
      <img src="../images/logo.png" width="275" alt="apk logo" style="margin-top: -10px">
    </a>

    <div class="navbar-collapse collapse" id="nav-menu">
      <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.7.1.js"></script>

      <script src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js'></script>
      <ul class="navbar-nav">
        <li class="nav-item " style=""><a class="nav-link start" target="_top" href="../directory.html" style="">All Games</a>

          <style>
            .tutorial {
              position: absolute;
              z-index: 1000;
              width: 6.6em;
              height: 2.5em;
              border-radius: 1em;
              top: 1.2em;
              display: none;
              transform: translateX(-0.2em);
              box-shadow: 0 0 0 99999px #0000008c;
            }

            .tutorial h2 {
              z-index: 10000;
              color: rgb(198, 198, 198);
              position: absolute;
              transform: translate(-0.8em, 1.5em);
              right: -8em;
            }
          </style>
          <script>
            $(document).click(function () {
              $('.tutorial').css({'display': 'none'})
              localStorage.setItem('tutorial', 'done')

            });
            if (localStorage.getItem('tutorial') == null) {
              $('.tutorial').css({'display': 'block'})
            }
            else { }
          </script>
          <div class="tutorial">
            <h2>Click here to see all games. </h2>
          </div>
        </li>
        <li class="nav-item "><a target="_top" class="nav-link spacer" href="">|</a></li>

      
        <style>
        .nav-link::before{
          content: '|';
          display: block;
          height: 2px;
          color: white;
          margin-right: 0px;
          transform: translate(-13px, 0.1em);
        }
        .start::before{
          content: '';
        }
        .nav-link{
            margin-right: 5px
        }

        .spacer{
          display: none;
        }
        .dropdown ul li .nav-link::before{
          display: none;


        }
          </style>
          
        <li class="nav-item dropdown"><a target="_top" class="nav-link dropdown-toggle" href=""
            data-bs-toggle="dropdown">Tools</a>
          <ul role="menu" class="dropdown-menu" style="min-width: 200px">
            <li class="nav-item " style=""><a class="nav-link cloak" target="" style="" href=""
                onclick="cloak()">about:blank Cloak</a></li>

            <li class="nav-item " style=""><a class="nav-link " target="_top" href="" data-bs-toggle="modal"
                data-bs-target="#cloak">Tab Cloak</a></li>
            <li class="nav-item " style=""><a class="nav-link pointer" data-bs-toggle="modal"
                data-bs-target="#alter">Alternate Links</a></li>
          </ul>
        </li>
        <li class="nav-item "><a target="_top" class="nav-link spacer" href="">|</a></li>

        <li class="nav-item " style=""><a class="nav-link " target="_top" href="../chatroom.html" style="">Chatroom</a>
        </li>
        <li class="nav-item "><a target="_top" class="nav-link spacer" href="">|</a></li>

<!--         <li class="nav-item " style=""><a class="nav-link " target="_top" href="../ai.html" style="">AI</a>
        </li> -->
        <style>
          .pointer:hover {
            cursor: pointer;
          }
        </style>

        <div class="modal fade" tabindex="-1" id="alter">
          <div class="modal-dialog">
            <div class="modal-content" style="background-color: #91541f;">
              <div class="modal-header">
                <h5 class="modal-title fs-5 text-light">Alternate Links</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">

                <p><a style="color: lightblue !important; text-decoration: underline;"
                    href="https://rusk-games.pages.dev/">https://rusk-games.pages.dev/</a>
                  <br>


                  <a style="color: lightblue; text-decoration: underline;"
                    href="https://rusk-games.rusk2016.repl.co/">https://rusk-games.rusk2106.repl.co/</a>
                </p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

              </div>
            </div>
          </div>
        </div>
        <div class=" modal fade" id="cloak" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content" style="background-color: #91541f;">
              <div class="modal-header">
                <h1 class="modal-title fs-5 text-light" id="exampleModalLabel">Tab Cloak</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <label for="tab-name" class="col-form-label text-light">Tab Name:
                    </label>
                    <input type="text" class="form-control text-dark" id="tab-name" value="Google">
                  </div>
                  <div class="mb-3">
                    <label for="tab-icon" class="col-form-label text-light">Icon Site
                      Link:</label>
                    <input class="form-control text-dark" id="tab-icon" value="google.com">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <style>
                  /* input{
                                            text-emphasis-color: black !important;
                                            color: black !important;
                                            background-color: green !important;
                                        } */
                  .btn-primary,
                  .btn-primary:hover,
                  .btn-primary:active,
                  .btn-primary:visited {
                    border: none;

                    background-color: rgb(121, 70, 0) !important;
                  }

                  .bi-arrow-clockwise::before {
                    margin-bottom: -1em;
                    padding-bottom: -2em;

                  }

                  .bi-arrow-clockwise::before {
                    font-size: 1.3em;
                    -webkit-text-stroke: 0.07em;
                    color: rgb(239, 239, 239);
                    padding: 0px;
                    transform: rotate(-45deg);
                  }

                  .reset {
                    padding-top: 0.65em;
                    width: 10%;
                  }
                </style>


                <div class="btn-toolbar" role="toolbar" style="width: 100%">
                  <div class="btn-group mr-2" role="group" style="width:88%; margin-right: 2%;"
                    aria-label="First group">
                    <button type="button" class="btn btn-primary btn-block " data-bs-dismiss="modal"
                      onclick="tabCloak()">Cloak</button>
                  </div>
                  <div class="btn-group mr-2" role="group" aria-label="Second group">
                    <button type="button" class="btn btn-primary reset" aria-label="Reset" data-bs-dismiss="modal"
                      onclick="clearls()"><i class="bi bi-arrow-clockwise" style=""></i></button>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>



      </ul>
    </div>
    <div class="d-none d-lg-block">
      <style>
        .spacer:hover {
          color: white;
          cursor: default;
        }
      </style>

      <ul class="navbar-nav ">
        <style>
          .srchgms{
            width: 250px;
            margin-top: 3px;
            background-color: transparent;
            margin-right: 30px;
            cursor: pointer;
            transition: all 0.1s linear;
            color: white !important;
            padding-left: 2.2em !important;
            height: 2.5em;
            border-radius: 4px;
            overflow-x: hidden;
          }
          .srchgms:focus{
            box-shadow: none;
            border: 1px solid white !important;
            width: 300px;
            cursor: text;
            background-color: transparent;
          }
          
          .srchgms::placeholder{
            color: #ffffff99;
          }
          .srch .material-symbols-outlined, .srch .fa-solid, .srch svg{
            font-size: 1.5em;
            color: white;
            position: absolute;
            transform: translate(0.4em, 0.55em);
            fill: white;
            width: 0.8em;
          }
          .game-prev{
            transition: all 0.1s linear;
            position: absolute;
            box-shadow: 0px 10px 10px 0px black;
            max-height: 30vh;
            width: 250px;
            background-color: white;
            transform: translate(0em, 2.5em);
            overflow-y: auto;
            color: black;
            display: none;
            border-bottom-right-radius: 4px;
            border-bottom-left-radius: 4px;
            background-color: #fcd5a4;
            overflow-x: hidden;
            z-index: 1000000;
          }
          .game-prev img{
            border-radius: 4px;
          }
          .game-prev .row{
            margin: 0px;
            padding: 10px;
            border-bottom: 1px solid #de9235;
            color: black;
            transition: all 0.2s;
          }
          .game-prev .row:hover{
            background-color: #f5c589;

          }
          
        </style>
        <script src = "../search.js">
          
        </script>
        <script>
          // 
          function clickPress(event) {
            if (event.keyCode == 13) {
              window.location.href = '/directory.html' + '?search=' + document.querySelector('.srchgms').value
            }
          }
        </script>
        <div class="form-group srch">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>
          <input value = "" class="form-control form-control-md srchgms mr-5" type="text" placeholder="" onkeypress="clickPress(event)">
        </div>  
        <div class="game-prev">
          
        </div>
        <li class="nav-item "><a target="_top" class="nav-link start" href="proxy.html">Proxy</a></li>
        <li class="nav-item "><a target="_top" class="nav-link spacer" href="">|</a></li>

        <li class="nav-item dropdown"><a target="_top" class="nav-link dropdown-toggle" href=""
            data-bs-toggle="dropdown">Links</a>
          <ul role="menu" class="dropdown-menu" style="min-width:10px;>
            <li class="nav-item "><a target="_top" class="nav-link start" href="../links.html#proxies">Proxies</a>
            </li>
            <li class="nav-item "><a target="_top" class="nav-link " href="../links.html#emulators">Emulators</a>
            </li>
            <li class="nav-item "><a target="_top" class="nav-link " href="../links.html#other">Other</a>
            </li>

          </ul>

        </li>

        <li class="nav-item "><a target="_top" class="nav-link spacer" href="">|</a></li>
        <!-- 
        <li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Games</a>
          <ul role="menu" class="dropdown-menu" style="min-width:130px;">

            <li class="nav-item "><a class="nav-link " href="../category/running.html">Running</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/puzzle.html">Puzzle</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/racing.html">Racing</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/skill.html">Skill</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/sports.html">Sports</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/car.html">Car</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/3d.html">3D</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/Actiontml">Action</a></li>
            <li class="nav-item "><a class="nav-link " href="../category/Adventure.html">Adventure</a>
            </li>
            <li class="nav-item "><a class="nav-link " href="../category/fighting.html">Fighting</a>
            </li>
            <li class="nav-item "><a class="nav-link " href="../category/multiplayer.html">Multiplayer</a>
            </li>
            <li class="nav-item "><a class="nav-link " href="../category/stickman.html">Stickman</a>
            </li>



          </ul>
        </li>
      -->

      </ul>


    </div>
  </div>
</nav>

<div class="modal fade" tabindex="-1" id="embed">
  <div class="modal-dialog">
    <div class="modal-content" style="background-color: #91541f;">
      <div class="modal-header">
        <h5 class="modal-title fs-5 text-light">Embed</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        Embed Code
        <style>
          .modal-body{
            color: white;
          }
        pre{
          background-color: rgb(93, 93, 93);
          color: white;
          border: 1px solid white;
          border-radius: 5px;
          padding: 10px;  
          text-wrap: wrap;
          user-select: all;
    
        }
        </style>
        <script>

          document.querySelector('.code').textContent =  `<iframe src="${window.location.href.replace('/play', '/embed')}" frameborder='0'></iframe>`
          document.querySelector('.link').textContent =  `${window.location.href.replace('/play', '/embed')}`
          function copy(element) {
            copied();
            navigator.clipboard.writeText(document.querySelector(element).textContent);

          }

          </script>
        <pre class="code" onclick="copy('.code')"></pre>
        From URL:
        <pre class="link" onclick="copy('.link')"></pre>

        <div id="snackbar">✔ Copied</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

      </div>
    </div>
  </div>
</div>
</div>
